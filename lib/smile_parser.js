const emojis=require("./minifiedEmoji.json"),regex=new RegExp(/:([a-zA-Z1-9+_-]*?):/),toneRegex=new RegExp(/:(.*?)::(skin-tone-\d*):/),emojiRegex=new RegExp(/(\B|^)((:\)|:\/|:\(|:'\(|:\||;\))\B|(:D|:P|:o)\b)/);let emoji;export const smileParse=(e,i)=>{for(;null!==(emoji=emojiRegex.exec(e));){let m=emojis.find(e=>e.text===`${emoji[0]}`);e=e.replace(emoji[0],`<img ${i.styles?`style="${i.styles}"`:""} src="${i.url}${m.image}" alt="${m.short_name}" />`)}for(;null!==(emoji=toneRegex.exec(e));){let m,s=emojis.find(e=>e.short_name===`${emoji[1]}`),o=emojis.find(e=>e.short_name===`${emoji[2]}`);try{m=o.image.length?`${s.image.split(".")[0]}-${o.image}`:`${s.image}`,e=e.replace(emoji[0],`<img ${i.styles?`style="${i.styles}"`:""} src="${i.url}${m}" alt="${emoji[1]}-${emoji[2]}" />`)}catch(m){e=e.replace(emoji[0],`<img ${i.styles?`style="${i.styles}"`:""} src="${i.url}${s.image}" alt="${emoji[1]}" />`)}}for(;null!==(emoji=regex.exec(e));){let m=emojis.find(e=>e.short_name===`${emoji[1]}`);try{e=e.replace(emoji[0],`<img ${i.styles?`style="${i.styles}"`:""} src="${i.url}${m.image}" alt="${emoji[1]}" />`)}catch(i){e=e.replace(emoji[0],emoji[1])}}return e};export default{smileParse:smileParse};
